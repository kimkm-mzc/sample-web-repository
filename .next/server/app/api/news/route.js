"use strict";(()=>{var e={};e.id=634,e.ids=[634],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{e.exports=require("assert")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},2037:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},6224:e=>{e.exports=require("tty")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},9796:e=>{e.exports=require("zlib")},7205:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>w,originalPathname:()=>h,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>m});var s={};r.r(s),r.d(s,{POST:()=>POST});var o=r(884),i=r(6132),n=r(5798),a=r(7117),u=r(6696);function generateSampleNews(e){let t={인공지능:[{id:"1",title:"ChatGPT-4의 새로운 업데이트로 더욱 정확한 답변 제공",description:"OpenAI가 ChatGPT-4의 최신 업데이트를 발표하며, 더욱 정확하고 맥락을 이해하는 AI 모델을 선보였습니다.",source:"AI 뉴스",publishedAt:new Date(Date.now()-72e5).toISOString(),url:"https://example.com/ai-news-1"},{id:"2",title:"구글, 새로운 AI 칩 TPU v5 공개",description:"구글이 머신러닝 워크로드를 위한 새로운 텐서 프로세싱 유닛 TPU v5를 공개했습니다.",source:"테크 리뷰",publishedAt:new Date(Date.now()-18e6).toISOString(),url:"https://example.com/ai-news-2"}],암호화폐:[{id:"3",title:"비트코인, 새로운 최고가 경신 전망",description:"전문가들은 비트코인이 올해 말까지 새로운 최고가를 경신할 것으로 전망한다고 발표했습니다.",source:"크립토 뉴스",publishedAt:new Date(Date.now()-36e5).toISOString(),url:"https://example.com/crypto-news-1"}],기후변화:[{id:"4",title:"2024년 전 세계 평균 기온 역대 최고 기록",description:"세계기상기구(WMO)가 2024년이 관측 사상 가장 더운 해가 될 것이라고 발표했습니다.",source:"환경 뉴스",publishedAt:new Date(Date.now()-108e5).toISOString(),url:"https://example.com/climate-news-1"}]},r=[{id:"default-1",title:`"${e}" 관련 최신 뉴스 업데이트`,description:`${e}에 대한 최신 동향과 관련 소식을 전해드립니다. 더 자세한 정보는 원문을 확인해주세요.`,source:"종합 뉴스",publishedAt:new Date(Date.now()-36e5).toISOString(),url:"https://example.com/news-1"},{id:"default-2",title:`${e} 분야의 새로운 발전`,description:`${e} 분야에서 주목할 만한 새로운 발전과 혁신이 이루어지고 있습니다.`,source:"산업 뉴스",publishedAt:new Date(Date.now()-144e5).toISOString(),url:"https://example.com/news-2"}];return t[e]||r}async function POST(e){try{let t=await e.json(),{topic:r}=t,s=(0,u.$C)(r);if(!s.isValid)return n.Z.json({success:!1,error:s.error},{status:400});let o=s.sanitizedTopic,i=process.env.NEWS_API_KEY,p=[];if(i)try{let e=await a.Z.get("https://newsapi.org/v2/everything",{params:{q:o,language:"ko",sortBy:"publishedAt",pageSize:10,apiKey:i},timeout:8e3});p=e.data.articles.slice(0,8).map((e,t)=>({id:`news-${Date.now()}-${t}`,title:e.title,description:e.description||"",content:e.content||void 0,source:e.source.name,publishedAt:e.publishedAt,url:e.url,summary:void 0}))}catch(e){if(console.error("NewsAPI 호출 실패:",e),e.response?.status===429)return n.Z.json({success:!1,error:"NewsAPI 할당량이 초과되었습니다. 잠시 후 다시 시도해주세요."},{status:429});e.response?.status===401?console.error("NewsAPI 인증 실패 - 샘플 데이터 사용"):e.response?.status===400?console.error("NewsAPI 잘못된 요청 - 샘플 데이터 사용"):e.response?.status>=500?console.error("NewsAPI 서버 오류 - 샘플 데이터 사용"):"ECONNABORTED"===e.code?console.error("NewsAPI 요청 시간 초과 - 샘플 데이터 사용"):("ENOTFOUND"===e.code||"ECONNREFUSED"===e.code)&&console.error("NewsAPI 연결 실패 - 샘플 데이터 사용"),p=generateSampleNews(o)}else p=generateSampleNews(o);let c={success:!0,news:p.slice(0,8)};return n.Z.json(c)}catch(e){return console.error("뉴스 검색 에러:",e),n.Z.json({success:!1,error:"뉴스를 가져오는 중 오류가 발생했습니다."},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/news/route",pathname:"/api/news",filename:"route",bundlePath:"app/api/news/route"},resolvedPagePath:"/Users/mzc01-kimkm95/Documents/project/mzc-account/test/app/api/news/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:d,headerHooks:w,staticGenerationBailout:m}=p,h="/api/news/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[997,605,117,696],()=>__webpack_exec__(7205));module.exports=r})();